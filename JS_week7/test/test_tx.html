<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>test_tx</title>
</head>
<body>
<div>
    <h1>微信头像上传实例1</h1>
    <img class="user_avatar" src="../src/picture/girl-3.svg">
    <input type="file" accept="image/*" id="js_logo_img" class="logo-img-add">
</div>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js "></script>
<script type="text/javascript">
    $('#js_logo_img').change(function() {
        var file=this.files[0];
        readFile(file);
        function readFile(file) {
            // 新建阅读器
            var reader = new FileReader();
            // 根据文件类型选择阅读方式
            switch (file.type){
                case 'image/jpg':
                case 'image/png':
                case 'image/jpeg':
                case 'image/gif':
                    reader.readAsDataURL(file);
                    break;
            }
            // 当文件阅读结束后执行的方法
            reader.addEventListener('load',function () {
                // 如果说让读取的文件显示的话 还是需要通过文件的类型创建不同的标签
                switch (file.type){
                    case 'image/jpg':
                    case 'image/png':
                    case 'image/jpeg':
                    case 'image/gif':
                        console.log(reader.result);
                        $(".user_avatar").attr("src",reader.result);
                        break;
                }
            });
        }
    })
</script>
</body>
</html>